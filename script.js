const fortunes = {
    aries: {
        การงาน: "มีโอกาสก้าวหน้า เหมาะกับการเริ่มต้นสิ่งใหม่",
        การเงิน: "การเงินคล่องตัว มีโชคลาภจากการงาน",
        ความรัก: "ความรักมั่นคง มีเกณฑ์พบคู่ที่ถูกใจ",
        สุขภาพ: "ควรระวังเรื่องการพักผ่อน ออกกำลังกายสม่ำเสมอ"
    },
    taurus: {
        การงาน: "งานต้องใช้ความอดทน แต่มีผลตอบแทนระยะยาว",
        การเงิน: "ใช้จ่ายรอบคอบ จะมีรายรับเพิ่มจากทางเลือกใหม่",
        ความรัก: "ความสัมพันธ์นิ่งขึ้น ควรสื่อสารให้ชัด",
        สุขภาพ: "ระวังระบบย่อยอาหาร พักผ่อนให้เพียงพอ"
    },
    gemini: {
        การงาน: "ได้รับมอบหมายงานใหม่ๆ เปิดโอกาสแสดงฝีมือ",
        การเงิน: "การเงินขึ้นลง รีบจัดระบบงบประมาณ",
        ความรัก: "สนุกสนาน มีโอกาสพบคนใหม่ๆ",
        สุขภาพ: "ควรดูแลระบบทางเดินหายใจและจิตใจ"
    },
    cancer: {
        การงาน: "เหมาะกับงานที่ต้องการความเอาใจใส่และรายละเอียด",
        การเงิน: "เก็บออมได้ดี หากลงทุนให้เลือกอย่างรอบคอบ",
        ความรัก: "อบอุ่น แต่ระวังความหึงหวง",
        สุขภาพ: "ให้ความสำคัญกับการนอนและอาหาร"
    },
    leo: {
        การงาน: "มีโอกาสโดดเด่น เหมาะกับการนำทีม",
        การเงิน: "มีโชคเล็กๆ จากกิจกรรมสังคม",
        ความรัก: "ความสัมพันธ์สดใส แต่อย่าหลงตัวเองมากเกินไป",
        สุขภาพ: "ระวังการบาดเจ็บจากกิจกรรมโลดโผน"
    },
    virgo: {
        การงาน: "งานต้องการความละเอียดสูง จะได้รับคำชมจากผลงาน",
        การเงิน: "วางแผนการเงินดี มีโอกาสออมเพิ่ม",
        ความรัก: "จริงจังและมั่นคง ต้องลดความกังวลใจ",
        สุขภาพ: "ใส่ใจระบบภูมิคุ้มกัน ออกกำลังกายเบาๆ"
    },
    libra: {
        การงาน: "เจรจาดี เหมาะกับงานที่ต้องการความสัมพันธ์",
        การเงิน: "สมดุลด้านการเงิน หากร่วมลงทุนให้รอบคอบ",
        ความรัก: "โรแมนติก มีโอกาสพัฒนาความสัมพันธ์",
        สุขภาพ: "รักษาสมดุลทั้งใจและร่างกาย"
    },
    scorpio: {
        การงาน: "มีพลังและความมุ่งมั่น เหมาะกับเป้าหมายใหญ่",
        การเงิน: "มีโอกาสได้ผลตอบแทนจากการตัดสินใจเด็ดขาด",
        ความรัก: "เข้มข้นและจริงจัง ควรเปิดใจสื่อสาร",
        สุขภาพ: "ระวังเรื่องความเครียดและการนอน"
    },
    sagittarius: {
        การงาน: "โอกาสเดินทางหรือขยายงานต่างจังหวัด/ต่างประเทศ",
        การเงิน: "โชคจากการเดินทางหรือความรู้ใหม่ๆ",
        ความรัก: "เสรีภาพสำคัญ อย่าผูกมัดเกินไป",
        สุขภาพ: "รักษาความแข็งแรงจากกิจกรรมกลางแจ้ง"
    },
    capricorn: {
        การงาน: "ความพยายามนำไปสู่ความสำเร็จ งานมั่นคง",
        การเงิน: "การวางแผนระยะยาวให้ผลดี",
        ความรัก: "จริงจัง อาจมีบททดสอบ แต่ผ่านได้",
        สุขภาพ: "ใส่ใจอวัยวะที่ทำงานหนัก เช่นหลังและเข่า"
    },
    aquarius: {
        การงาน: "ไอเดียใหม่ๆ ได้รับการยอมรับ เหมาะกับเทคโนโลยี",
        การเงิน: "มีช่องทางรายได้จากงานที่คิดต่าง",
        ความรัก: "เป็นมิตรและเปิดกว้าง ค้นหาคนที่เข้าใจโลกทัศน์ของคุณ",
        สุขภาพ: "พักผ่อนสมดุล รักษาสุขภาพจิต"
    },
    pisces: {
        การงาน: "งานที่ต้องการความคิดสร้างสรรค์จะไปได้ดี",
        การเงิน: "ระวังการใช้จ่ายตามอารมณ์ ตั้งงบประมาณไว้",
        ความรัก: "อ่อนโยนและเข้าอกเข้าใจ มีเสน่ห์ต่อผู้อื่น",
        สุขภาพ: "ให้ความสำคัญกับการผ่อนคลายและกิจกรรมน้ำ"
    }
    // ... หากต้องการปรับข้อความเพิ่มเติมให้แก้ตรงนี้ ...
};

const luckBoosts = [
    "สวมเครื่องรางสีแดงหรือสีนำโชคสำหรับราศีของคุณ 7 วัน",
    "พกเหรียญนำโชคไว้กระเป๋าเงินเพื่อเสริมทรัพย์",
    "ทำความสะอาดบ้านตอนเช้า เปิดหน้าต่างรับแสงแดดเพื่อรับพลังบวก",
    "ทำบุญด้วยสิ่งของเล็กๆ หรือบริจาคเงินตามกำลัง จะเสริมดวงการเงิน",
    "ตั้งใจทำงานและขอบคุณตัวเองทุกวัน เพื่อเปิดรับโอกาสใหม่",
    "ใส่เสื้อผ้าสีที่แนะนำสำหรับราศีในวันสำคัญ",
    "นั่งสมาธิสั้นๆ ก่อนเริ่มวัน ช่วยชำระจิตใจและดึงโชคดีเข้ามา"
];

// คำทำนาย/คำแนะนำสำหรับแต่ละวันเกิด (1..31)
const dayMessages = [
    null,
    "วันแห่งการเริ่มต้น เหมาะทำงานใหม่หรือเริ่มโปรเจกต์",
    "ร่วมมือจะนำโชค หาเพื่อนพึ่งพาได้ดี",
    "วางแผนการเงินให้ชัด จะช่วยให้มั่นคง",
    "ระวังคำพูด ควรคิดก่อนพูดในที่ทำงาน",
    "โอกาสจากการเรียนรู้ ลองรับการอบรมใหม่ๆ",
    "เวลาพักผ่อนสำคัญ หยุดพักกล่อมสุขภาพใจ",
    "โชคลาภเล็กๆ มาจากความสุภาพและสัมพันธ์ดี",
    "อย่าลังเลเมื่อมีโอกาส สำรองข้อมูลก่อนตัดสินใจ",
    "การสื่อสารสำคัญ พบคนที่จะช่วยพัฒนาอาชีพ",
    "ให้ความสำคัญกับครอบครัว จะได้รับพลังใจ",
    "วิเคราะห์ปัญหาอย่างละเอียด จะพบทางออก",
    "สุขภาพต้องระวังเรื่องอาหารและการนอน",
    "ความคิดสร้างสรรค์พุ่ง ให้ใช้ในงานที่สำคัญ",
    "ระวังการลงทุนที่เสี่ยง ค่อยๆ ศึกษาก่อน",
    "วันนี้เหมาะกับการทำบุญหรือให้ความช่วยเหลือ",
    "ตั้งเป้าหมายระยะสั้นและทำทีละขั้น จะสำเร็จ",
    "เรื่องความรักมีโอกาสอบอุ่น เปิดใจคุยกัน",
    "ระวังการขับขี่และการเดินทาง ให้มีสติ",
    "จัดการเอกสารและงานให้เรียบร้อย จะคล่องตัว",
    "ลองเปลี่ยนกิจวัตรประจำวัน จะได้มุมมองใหม่",
    "รับฟังคำแนะนำจากผู้มีประสบการณ์จะได้ประโยชน์",
    "มีโชคเล็กๆ จากคนใกล้ชิด เก็บเป็นกำลังใจ",
    "อย่าเพิ่งตัดสินใจใหญ่วันนี้ รอเวลาที่เหมาะสม",
    "เหมาะกับการวางแผนระยะยาวและออมเงิน",
    "ระวังความเครียด ควรหาเวลาผ่อนคลาย",
    "วันนี้อาจได้ข่าวดีจากงานหรือโอกาสใหม่",
    "เสริมสร้างความสัมพันธ์ จะได้เครือข่ายที่ดี",
    "โชคด้านการเงินมาพร้อมกับความรอบคอบ",
    "เป็นวันที่เหมาะกับการทดลองไอเดียใหม่",
    "ใช้เวลารอบคอบกับความสัมพันธ์ จะราบรื่น"
];

function getLuckBoost(zodiac) {
    // สามารถปรับให้เป็นคำแนะนำเฉพาะราศีได้ หากต้องการ
    // ปัจจุบันเป็นการสุ่มจากชุดคำแนะนำทั่วไป
    const idx = Math.floor(Math.random() * luckBoosts.length);
    return luckBoosts[idx];
}

function getDayMessage(day) {
    if (!day || day < 1 || day > 31) return null;
    return dayMessages[day] || null;
}

function showFortune() {
    const zodiac = document.getElementById('zodiacSelect').value;
    const dayValue = document.getElementById('birthDayInput').value;
    const day = dayValue ? parseInt(dayValue, 10) : null;
    const fortuneDiv = document.getElementById('fortuneResult');
    
    if (!zodiac) {
        alert('กรุณาเลือกราศีของคุณ');
        return;
    }

    if (dayValue && (isNaN(day) || day < 1 || day > 31)) {
        alert('กรุณากรอกวันเกิดเป็นตัวเลขระหว่าง 1 ถึง 31');
        return;
    }

    const fortune = fortunes[zodiac] || {
        การงาน: "อยู่ในเกณฑ์ดี มีโอกาสก้าวหน้า",
        การเงิน: "การเงินมั่นคง มีเกณฑ์ได้ลาภผล",
        ความรัก: "ความรักราบรื่น มีเกณฑ์พบเนื้อคู่",
        สุขภาพ: "สุขภาพแข็งแรง ควรออกกำลังกายสม่ำเสมอ"
    };

    let fortuneHTML = '<h3>ดวงชะตาของคุณ</h3>';
    for (const [category, prediction] of Object.entries(fortune)) {
        fortuneHTML += `<p><strong>${category}:</strong> ${prediction}</p>`;
    }

    // คำทำนายตามวันเกิด (ถ้ามี)
    const dayMsg = getDayMessage(day);
    if (dayMsg) {
        fortuneHTML += `<hr/><h4>คำทำนายตามวันเกิด (วันที่ ${day})</h4><p>${dayMsg}</p>`;
    }

    // เพิ่มส่วนเสริมโชคลาภ
    const boost = getLuckBoost(zodiac);
    fortuneHTML += `<hr/><h4>วิธีเสริมโชคลาภ</h4><p>${boost}</p>`;

    fortuneDiv.innerHTML = fortuneHTML;
    fortuneDiv.classList.add('show');
}
